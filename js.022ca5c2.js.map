{"version":3,"sources":["js/index.js"],"names":["input","document","getElementsByTagName","inputContainer","getElementById","dropdown","facets","facetData","name","data","xIcon","onSearchInput","e","tag","tagName","val","properties","emptyDropdown","filter","f","target","value","split","toLowerCase","facet","facetSubstr","substr","length","forEach","match","appendDropdownRow","onRowSelect","tagContainer","createElement","x","className","innerHTML","innerText","style","width","appendChild","insertBefore","addEventListener","backgroundColor","disabled","parentNode","remove","focus","widthNR","key","preventDefault","parentElement","onRowSelectInTag","text","row","id","getElementsByClassName","onkeydown","activeElement","previousElementSibling","removeChild","left","offsetLeft"],"mappings":"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","file":"js.022ca5c2.js","sourceRoot":"..","sourcesContent":["import '../style.scss';\n\nconst input = document.getElementsByTagName('input')[0];\nconst inputContainer = document.getElementById('input-container');\nconst dropdown = document.getElementById('dropdown');\nconst facets = [\n  'Frame Rate',\n  'Aspect Ratio',\n  'Subtitles',\n  'Status',\n  'File Format',\n];\n\nconst facetData = [\n  {\n    name: 'Frame Rate',\n    data: ['24', '29.97', '30', '50', '60'],\n  },\n  {\n    name: 'Aspect Ratio',\n    data: ['16:9', '16:10', '21:9', '3:2'],\n  },\n  {\n    name: 'Subtitles',\n    data: ['English', 'Swedish', 'German', 'Spanish'],\n  },\n  {\n    name: 'Status',\n    data: ['Approved', 'In Progress', 'Rejected', 'No Status'],\n  },\n  {\n    name: 'File Format',\n    data: ['mp4', 'mov', 'WebM'],\n  },\n];\nconst xIcon = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\" preserveAspectRatio=\"none\">\n<polygon points=\"25.192 5.393 16 14.586 6.808 5.393 5.393 6.808 14.586 16 5.393 25.192 6.808 26.607 16 17.414 25.192 26.607 26.607 25.192 17.414 16 26.607 6.808 25.192 5.393\"></polygon>\n</svg>`;\n\nconst onSearchInput = (e, tag, tagName) => {\n  emptyDropdown();\n  let val;\n  let properties;\n  if (tag) {\n    properties = facetData.filter((f) => f.name === tagName)[0].data;\n    val = e.target.value.split(': ')[1].toLowerCase();\n  } else {\n    properties = facets;\n    val = e.target.value.toLowerCase();\n  }\n  // if (!val) return;\n  const matches = properties.filter((facet) => {\n    const facetSubstr = facet.toLowerCase().substr(0, val.length);\n    return facetSubstr === val;\n  });\n  matches.forEach((match) => {\n    appendDropdownRow(match, tag);\n  });\n  // dropdown.style.left = input.offsetLeft + 'px ';\n};\n\nconst onRowSelect = (e) => {\n  input.value = '';\n  const tagContainer = document.createElement('div');\n  const tag = document.createElement('input');\n  const x = document.createElement('div');\n  tagContainer.className = 'search-tag-container';\n  x.className = 'x';\n  x.innerHTML = xIcon;\n  tagContainer;\n  tag.className = 'search-tag';\n  tag.value = e.target.innerText + ': ';\n  let length = tag.value.length;\n  tag.style.width = length + 'ch';\n  tagContainer.appendChild(tag);\n  tagContainer.appendChild(x);\n  inputContainer.insertBefore(tagContainer, input);\n  tag.addEventListener('focus', () => {\n    inputContainer.style.backgroundColor = '#2c2c30';\n    input.disabled = true;\n  });\n  tag.addEventListener('input', (e) => {\n    if (e.target.value.length < length) {\n      e.target.parentNode.remove();\n      input.disabled = false;\n      input.focus();\n    } else {\n      let widthNR = tag.value.length;\n      tag.style.width = widthNR + 'ch';\n    }\n    onSearchInput(e, tag, tag.value.split(': ')[0]);\n    // let offset = tag.offsetWidth - 20;\n    // dropdown.style.left = offset + 'px ';\n  });\n  tag.addEventListener('keydown', (e) => {\n    if (e.key === 'Enter' && tag.value.length > length) {\n      //|| e.key === 'Tab'\n      e.preventDefault();\n      input.disabled = false;\n      input.focus();\n    }\n  });\n  x.addEventListener('click', (e) => {\n    x.parentElement.remove();\n  });\n  tag.focus();\n  emptyDropdown();\n  onSearchInput(\n    { target: { value: tag.value } },\n    tag,\n    tag.value.split(': ')[0]\n  );\n  // let offset = tag.offsetWidth - 20;\n  // dropdown.style.left = offset + 'px ';\n};\n\nconst emptyDropdown = () => {\n  dropdown.innerHTML = '';\n};\n\nconst onRowSelectInTag = (tag, text) => {\n  tag.value = tag.value.split(': ')[0] + ': ' + text;\n  let widthNR = tag.value.length;\n  tag.style.width = widthNR + 'ch';\n  emptyDropdown();\n  input.disabled = false;\n  input.focus();\n};\n\nconst appendDropdownRow = (text, tag) => {\n  const row = document.createElement('button');\n  row.className = 'dropdown-row';\n  if (tag) row.addEventListener('click', () => onRowSelectInTag(tag, text));\n  else row.addEventListener('click', onRowSelect);\n  row.innerText = text;\n  dropdown.appendChild(row);\n};\n\ninput.addEventListener('input', onSearchInput);\ndocument.addEventListener('click', (e) => {\n  if (e.target.className === 'dropdown-row') return;\n  if (e.target.id === 'input') {\n    input.disabled = false;\n    input.focus();\n    return;\n  }\n  // inputContainer.style.backgroundColor = '#0f0f11';\n  emptyDropdown();\n});\ninput.addEventListener('focus', (e) => {\n  onSearchInput(e);\n  inputContainer.style.backgroundColor = '#2c2c30';\n});\ninput.addEventListener('blur', (e) => {\n  if (document.getElementsByClassName('search-tag-container')[0]) return;\n  inputContainer.style.backgroundColor = '#0f0f11';\n});\n\ndocument.onkeydown = (e) => {\n  if (\n    e.key === 'Backspace' &&\n    input.value.length === 0 &&\n    input === document.activeElement &&\n    input.previousElementSibling\n  ) {\n    inputContainer.removeChild(input.previousElementSibling);\n    dropdown.style.left = input.offsetLeft + 'px ';\n  }\n};\n"]}